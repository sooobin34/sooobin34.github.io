{{ $item := .item }}
{{ $link := $item.RelPermalink }}
{{ $target := "" }}
{{ if $item.Params.external_link }}{{ $link = $item.Params.external_link }}{{ $target = "target=\"_blank\" rel=\"noopener\"" }}{{ end }}

{{ $summary := "" }}
{{ if $item.Params.summary }}{{ $summary = $item.Params.summary | markdownify | emojify }}
{{ else if $item.Params.abstract }}{{ $summary = $item.Params.abstract | markdownify | emojify | truncate (site.Params.abstract_length | default 135) }}
{{ else if $item.Summary }}{{ $summary = $item.Summary }}{{ end }}

<!-- USING CUSTOM COMPACT -->
<div class="media stream-item basic-card">
  <div class="media-body">
    {{ with $item.Params.image }}
    <div class="card-image"><img src="{{ .filename | relURL }}" alt="{{ $item.Title }}"></div>
    {{ end }}
    <div class="card-body">
      <h3 class="card-title"><a href="{{ $link }}" {{ $target | safeHTMLAttr }}>{{ $item.Title }}</a></h3>
      {{ with $summary }}<p class="card-summary">{{ . }}</p>{{ end }}
    </div>
  </div>
</div>

<style>
.basic-card{background:#fff;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,.08);transition:transform .25s,box-shadow .25s;overflow:hidden;text-align:center}
.basic-card:hover{transform:translateY(-6px);box-shadow:0 8px 18px rgba(0,0,0,.15);border:1px solid #8ea8ff}
.basic-card .card-image{width:100%;height:190px;overflow:hidden}
.basic-card .card-image img{width:100%;height:100%;object-fit:cover;transition:transform .4s}
.basic-card:hover .card-image img{transform:scale(1.05)}
.basic-card .card-body{padding:14px}
.basic-card .card-title{font-size:1.05rem;font-weight:600;color:#1d2c7b;margin:0 0 8px}
.basic-card .card-title a{color:inherit;text-decoration:none}
.basic-card .card-title a:hover{color:#6d78cf}
.basic-card .card-summary{color:#555;font-size:.94rem;line-height:1.5;margin:0}
</style>
